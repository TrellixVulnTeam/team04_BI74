{"ast":null,"code":"var _jsxFileName = \"/Users/siri.milk/se-64-reservation/frontend/src/components/ReservationCreate.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Select from \"@material-ui/core/Select\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Alert = props => {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 10\n  }, this);\n};\n\n_c = Alert;\nconst useStyles = makeStyles(theme => createStyles({\n  root: {\n    flexGrow: 1\n  },\n  container: {\n    marginTop: theme.spacing(5),\n    marginLeft: theme.spacing(50)\n  },\n  paper: {\n    padding: theme.spacing(2),\n    color: theme.palette.text.secondary\n  }\n}));\n\nfunction ReservationCreate() {\n  _s();\n\n  const classes = useStyles();\n  const [selectedCheckinDate, setSelectedCheckinDate] = useState(new Date());\n  const [selectedCheckoutDate, setSelectedCheckoutDate] = useState(new Date());\n  const [restrooms, setRestrooms] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [payment_methods, setPaymentMethods] = useState([]);\n  const [reservations, setReservation] = useState({});\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(false);\n  const apiUrl = \"http://localhost:8080\";\n  const requestOptions = {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      \"Content-Type\": \"application/json\"\n    }\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setSuccess(false);\n    setError(false);\n  };\n\n  const handleChange = event => {\n    const name = event.target.name;\n    setReservation({ ...reservations,\n      [name]: event.target.value\n    });\n  };\n\n  const handleCheckinDateChange = date => {\n    console.log(date);\n    setSelectedCheckinDate(date);\n  };\n\n  const handleCheckoutDateChange = date => {\n    console.log(date);\n    setSelectedCheckoutDate(date);\n  };\n\n  const getRestrooms = async () => {\n    fetch(`${apiUrl}/restrooms`, requestOptions).then(response => response.json()).then(res => {\n      if (res.data) {\n        setRestrooms(res.data);\n      } else {\n        console.log(\"else\");\n      }\n    });\n  };\n\n  const getCustomers = async () => {\n    fetch(`${apiUrl}/customers`, requestOptions).then(response => response.json()).then(res => {\n      if (res.data) {\n        setCustomers(res.data);\n      } else {\n        console.log(\"else\");\n      }\n    });\n  };\n\n  const getPaymentMethods = async () => {\n    fetch(`${apiUrl}/payment_methods`, requestOptions).then(response => response.json()).then(res => {\n      if (res.data) {\n        setPaymentMethods(res.data);\n      } else {\n        console.log(\"else\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    getRestrooms();\n    getCustomers();\n    getPaymentMethods();\n  }, []);\n\n  const convertType = data => {\n    let val = typeof data === \"string\" ? parseInt(data) : data;\n    return val;\n  };\n\n  const handleInputChange = event => {\n    const id = event.target.id;\n    const {\n      value\n    } = event.target;\n    setReservation({ ...reservations,\n      [id]: value\n    });\n  };\n\n  function submit() {\n    let data = {\n      CustomerID: convertType(reservations.CustomerID),\n      Checkin_date: selectedCheckinDate,\n      Checkout_date: setSelectedCheckoutDate,\n      RestroomID: convertType(reservations.RestroomID),\n      Number_customer: convertType(reservations.Number_customer),\n      PaymentMethodID: convertType(reservations.PaymentMethodID),\n      Customer_tel: convertType(reservations.Customer_tel)\n    };\n    console.log(data);\n    const requestOptionsPost = {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    };\n    fetch(`${apiUrl}/reservations`, requestOptionsPost).then(response => response.json()).then(res => {\n      if (res.data) {\n        console.log(\"บันทึกได้\");\n        setSuccess(true);\n      } else {\n        console.log(\"บันทึกไม่ได้\");\n        setError(true);\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: classes.container,\n    maxWidth: \"md\",\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      open: success,\n      autoHideDuration: 6000,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClose,\n        severity: \"success\",\n        children: \"\\u0E08\\u0E2D\\u0E07\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E1E\\u0E31\\u0E01\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: error,\n      autoHideDuration: 6000,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClose,\n        severity: \"error\",\n        children: \"\\u0E08\\u0E2D\\u0E07\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E1E\\u0E31\\u0E01\\u0E44\\u0E21\\u0E48\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\\u0E23\\u0E30\\u0E1A\\u0E1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            native: true,\n            value: reservations.CustomerID,\n            onChange: handleChange,\n            inputProps: {\n              name: \"CustomerID\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              \"aria-label\": \"None\",\n              value: \"\",\n              children: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E43\\u0E2A\\u0E48\\u0E0A\\u0E37\\u0E48\\u0E2D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this), customers.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item.ID,\n              children: item.Customer_name\n            }, item.ID, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23 Check-in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n            utils: DateFnsUtils,\n            children: /*#__PURE__*/_jsxDEV(KeyboardDatePicker, {\n              name: \"Checkin_date\",\n              value: setSelectedCheckinDate,\n              onChange: handleCheckinDateChange,\n              label: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23 Check-in\",\n              minDate: new Date(\"2018-01-01\"),\n              format: \"yyyy/MM/dd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23 Check-out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n            utils: DateFnsUtils,\n            children: /*#__PURE__*/_jsxDEV(KeyboardDatePicker, {\n              name: \"Checkout_date\",\n              value: setSelectedCheckoutDate,\n              onChange: handleCheckoutDateChange,\n              label: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23 Check-out\",\n              minDate: new Date(\"2018-01-01\"),\n              format: \"yyyy/MM/dd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E25\\u0E02\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E1E\\u0E31\\u0E01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            native: true,\n            value: reservations.RestroomID,\n            onChange: handleChange,\n            inputProps: {\n              name: \"RestroomID\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              \"aria-label\": \"None\",\n              value: \"\",\n              children: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E25\\u0E02\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E1E\\u0E31\\u0E01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 17\n            }, this), restrooms.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item.ID,\n              children: item.Room_number\n            }, item.ID, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E04\\u0E19\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E40\\u0E02\\u0E49\\u0E32\\u0E1E\\u0E31\\u0E01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"Number_customer\",\n            variant: \"outlined\",\n            type: \"number\",\n            size: \"medium\",\n            placeholder: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E04\\u0E19\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E40\\u0E02\\u0E49\\u0E32\\u0E1E\\u0E31\\u0E01\",\n            value: reservations.Number_customer || \"\",\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0E0A\\u0E48\\u0E2D\\u0E07\\u0E17\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E0A\\u0E33\\u0E23\\u0E30\\u0E40\\u0E07\\u0E34\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            native: true,\n            value: reservations.PaymentMethodID,\n            onChange: handleChange,\n            inputProps: {\n              name: \"PaymentMethodID\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              \"aria-label\": \"None\",\n              value: \"\",\n              children: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E0A\\u0E48\\u0E2D\\u0E07\\u0E17\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E0A\\u0E33\\u0E23\\u0E30\\u0E40\\u0E07\\u0E34\\u0E19\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), payment_methods.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item.ID,\n              children: item.Payment_type\n            }, item.ID, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"Customer_tel\",\n            variant: \"outlined\",\n            type: \"string\",\n            size: \"medium\",\n            placeholder: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\",\n            value: reservations.Customer_tel || \"\",\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 5,\n      className: classes.root,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 8,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            float: \"right\"\n          },\n          component: RouterLink,\n          to: \"/reservation\",\n          variant: \"contained\",\n          onClick: submit,\n          color: \"primary\",\n          children: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E01\\u0E32\\u0E23\\u0E08\\u0E2D\\u0E07\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E1E\\u0E31\\u0E01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ReservationCreate, \"6YeVAZVo6FK/214VyyZqMaz0uxY=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = ReservationCreate;\nexport default ReservationCreate;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Alert\");\n$RefreshReg$(_c2, \"ReservationCreate\");","map":{"version":3,"sources":["/Users/siri.milk/se-64-reservation/frontend/src/components/ReservationCreate.tsx"],"names":["useEffect","useState","Link","RouterLink","makeStyles","createStyles","Button","FormControl","Container","Grid","Snackbar","Select","MuiAlert","TextField","MuiPickersUtilsProvider","KeyboardDatePicker","DateFnsUtils","Alert","props","useStyles","theme","root","flexGrow","container","marginTop","spacing","marginLeft","paper","padding","color","palette","text","secondary","ReservationCreate","classes","selectedCheckinDate","setSelectedCheckinDate","Date","selectedCheckoutDate","setSelectedCheckoutDate","restrooms","setRestrooms","customers","setCustomers","payment_methods","setPaymentMethods","reservations","setReservation","success","setSuccess","error","setError","apiUrl","requestOptions","method","headers","Authorization","localStorage","getItem","handleClose","event","reason","handleChange","name","target","value","handleCheckinDateChange","date","console","log","handleCheckoutDateChange","getRestrooms","fetch","then","response","json","res","data","getCustomers","getPaymentMethods","convertType","val","parseInt","handleInputChange","id","submit","CustomerID","Checkin_date","Checkout_date","RestroomID","Number_customer","PaymentMethodID","Customer_tel","requestOptionsPost","body","JSON","stringify","map","item","ID","Customer_name","Room_number","Payment_type","float"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport {\n  makeStyles,\n  Theme,\n  createStyles,\n  alpha,\n} from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Container from \"@material-ui/core/Container\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Select from \"@material-ui/core/Select\";\nimport MuiAlert, { AlertProps } from \"@material-ui/lab/Alert\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport { RestroomInterface } from \"../models/IRestroom\";\nimport { CustomerInterface } from \"../models/ICustomer\";\nimport { PaymentMethodInterfece } from \"../models/IPaymentMethod\";\nimport { ReservationInterface } from \"../models/IReservation\";\n\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\n\n\nconst Alert = (props: AlertProps) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    container: {\n        marginTop: theme.spacing(5),\n      marginLeft: theme.spacing(50),\n    },\n    paper: {\n      padding: theme.spacing(2),\n      color: theme.palette.text.secondary,\n    },\n  })\n);\n\nfunction ReservationCreate() {\n  const classes = useStyles();\n  const [selectedCheckinDate, setSelectedCheckinDate] = useState<Date | null>(new Date());\n  const [selectedCheckoutDate, setSelectedCheckoutDate] = useState<Date | null>(new Date());\n  const [restrooms, setRestrooms] = useState<RestroomInterface[]>([]);\n  const [customers, setCustomers] = useState<CustomerInterface[]>([]);\n  const [payment_methods, setPaymentMethods] = useState<PaymentMethodInterfece[]>([]);\n  const [reservations, setReservation] = useState<Partial<ReservationInterface>>(\n    {}\n  );\n\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(false);\n\n  const apiUrl = \"http://localhost:8080\";\n  const requestOptions = {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setSuccess(false);\n    setError(false);\n  };\n\n  const handleChange = (\n    event: React.ChangeEvent<{ name?: string; value: unknown }>\n  ) => {\n    const name = event.target.name as keyof typeof reservations;\n    setReservation({\n      ...reservations,\n      [name]: event.target.value,\n    });\n  };\n\n  const handleCheckinDateChange = (date: Date | null) => {\n    console.log(date);\n    setSelectedCheckinDate(date);\n  };\n\n  const handleCheckoutDateChange = (date: Date | null) => {\n    console.log(date);\n    setSelectedCheckoutDate(date);\n  };\n\n  const getRestrooms = async () => {\n    fetch(`${apiUrl}/restrooms`, requestOptions)\n      .then((response) => response.json())\n      .then((res) => {\n        if (res.data) {\n            setRestrooms(res.data);\n        } else {\n          console.log(\"else\");\n        }\n      });\n  };\n\n  const getCustomers = async () => {\n    fetch(`${apiUrl}/customers`, requestOptions)\n      .then((response) => response.json())\n      .then((res) => {\n        if (res.data) {\n            setCustomers(res.data);\n        } else {\n          console.log(\"else\");\n        }\n      });\n  };\n\n  const getPaymentMethods = async () => {\n    fetch(`${apiUrl}/payment_methods`, requestOptions)\n      .then((response) => response.json())\n      .then((res) => {\n        if (res.data) {\n            setPaymentMethods(res.data);\n        } else {\n          console.log(\"else\");\n        }\n      });\n  };\n\n  useEffect(() => {\n    getRestrooms();\n    getCustomers();\n    getPaymentMethods();\n  }, []);\n\n  const convertType = (data: string | number | undefined) => {\n    let val = typeof data === \"string\" ? parseInt(data) : data;\n    return val;\n  };\n\n  const handleInputChange = (\n    event: React.ChangeEvent<{ id?: string; value: any }> ) => {\n    const id = event.target.id as keyof typeof reservations; const { value } = event.target;\n    setReservation({ ...reservations, [id]: value });\n    };\n\n  function submit() {\n    let data = {\n    CustomerID: convertType(reservations.CustomerID),\n    Checkin_date: selectedCheckinDate,\n    Checkout_date: setSelectedCheckoutDate,\n    RestroomID: convertType(reservations.RestroomID),\n    Number_customer: convertType(reservations.Number_customer),\n    PaymentMethodID: convertType(reservations.PaymentMethodID),\n    Customer_tel: convertType(reservations.Customer_tel),\n    };\n\n    console.log(data)\n\n    const requestOptionsPost = {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    };\n\n    fetch(`${apiUrl}/reservations`, requestOptionsPost)\n      .then((response) => response.json())\n      .then((res) => {\n        if (res.data) {\n          console.log(\"บันทึกได้\")\n          setSuccess(true);\n        } else {\n          console.log(\"บันทึกไม่ได้\")\n          setError(true);\n        }\n      });\n\n  }\n\n  return (\n    <Container className={classes.container} maxWidth=\"md\">\n      <Snackbar open={success} autoHideDuration={6000} onClose={handleClose}>\n        <Alert onClose={handleClose} severity=\"success\">\n            จองห้องพักสำเร็จ\n        </Alert>\n      </Snackbar>\n      <Snackbar open={error} autoHideDuration={6000} onClose={handleClose}>\n        <Alert onClose={handleClose} severity=\"error\">\n            จองห้องพักไม่สำเร็จ\n        </Alert>\n      </Snackbar>\n\n        \n        <Grid container spacing={3} className={classes.root}>\n\n          <Grid item xs={2}>\n              <p>ชื่อสมาชิกผู้ใช้งานระบบ</p>\n              </Grid>\n              <Grid item xs={6}>\n              <FormControl fullWidth variant=\"outlined\">\n              <Select\n                native\n                value={reservations.CustomerID}\n                onChange={handleChange}\n                inputProps={{\n                  name: \"CustomerID\", \n                }}\n              >\n                <option aria-label=\"None\" value=\"\">\n                  กรุณาใส่ชื่อ\n                </option>\n                {customers.map((item: CustomerInterface) => (\n                  <option value={item.ID} key={item.ID}>\n                    {item.Customer_name}\n                  </option>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n          </Grid>\n\n          <Grid container spacing={3} className={classes.root}>\n          <Grid item xs={2}>\n              <p>วันที่ต้องการ Check-in</p>\n              </Grid>\n              <Grid item xs={3}>\n              <FormControl fullWidth variant=\"outlined\">\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <KeyboardDatePicker\n                  name=\"Checkin_date\"\n                  value={setSelectedCheckinDate}\n                  onChange={handleCheckinDateChange}\n                  label=\"กรุณาเลือกวันที่ต้องการ Check-in\"\n                  minDate={new Date(\"2018-01-01\")}\n                  format=\"yyyy/MM/dd\"\n                />\n              </MuiPickersUtilsProvider>\n            </FormControl>\n          </Grid>\n          </Grid>\n\n          <Grid container spacing={3} className={classes.root}>\n          <Grid item xs={2}>\n              <p>วันที่ต้องการ Check-out</p>\n              </Grid>\n              <Grid item xs={3}>\n              <FormControl fullWidth variant=\"outlined\">\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <KeyboardDatePicker\n                  name=\"Checkout_date\"\n                  value={setSelectedCheckoutDate}\n                  onChange={handleCheckoutDateChange}\n                  label=\"กรุณาเลือกวันที่ต้องการ Check-out\"\n                  minDate={new Date(\"2018-01-01\")}\n                  format=\"yyyy/MM/dd\"\n                />\n              </MuiPickersUtilsProvider>\n            </FormControl>\n          </Grid>\n          </Grid>\n\n          <Grid container spacing={3} className={classes.root}>\n          <Grid item xs={2}>\n              <p>หมายเลขห้องพัก</p>\n              </Grid>\n              <Grid item xs={6}>\n              <FormControl fullWidth variant=\"outlined\">\n              <Select\n                native\n                value={reservations.RestroomID}\n                onChange={handleChange}\n                inputProps={{\n                  name: \"RestroomID\",\n                }}\n              >\n                <option aria-label=\"None\" value=\"\">\n                  กรุณาเลือกหมายเลขห้องพัก\n                </option>\n                {restrooms.map((item: RestroomInterface) => (\n                  <option value={item.ID} key={item.ID}>\n                    {item.Room_number}\n                  </option>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n          </Grid>\n\n          <Grid container spacing={3} className={classes.root}> \n          <Grid item xs={2}>\n            <h3>จำนวนคนที่ต้องการเข้าพัก</h3> \n            </Grid>\n            <Grid item xs={6}>\n            <FormControl fullWidth variant=\"outlined\">\n            <TextField\n                id=\"Number_customer\"\n                variant=\"outlined\"\n                type=\"number\"\n                size=\"medium\"\n                placeholder=\"กรุณากรอกจำนวนคนที่ต้องการเข้าพัก\" \n                value={reservations.Number_customer || \"\"} \n                onChange={handleInputChange}\n            />\n            </FormControl>\n        </Grid>\n        </Grid>\n          \n\n          <Grid container spacing={3} className={classes.root}>\n          <Grid item xs={2}>\n              <p>ช่องทางการชำระเงิน</p>\n              </Grid>\n              <Grid item xs={6}>\n              <FormControl fullWidth variant=\"outlined\">\n              <Select\n                native\n                value={reservations.PaymentMethodID}\n                onChange={handleChange}\n                inputProps={{\n                  name: \"PaymentMethodID\",\n                }}\n              >\n                <option aria-label=\"None\" value=\"\">\n                  กรุณาเลือกช่องทางการชำระเงิน\n                </option>\n                {payment_methods.map((item: PaymentMethodInterfece) => (\n                  <option value={item.ID} key={item.ID}>\n                    {item.Payment_type}\n                  </option>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n          </Grid>\n\n          <Grid container spacing={3} className={classes.root}> \n          <Grid item xs={2}>\n            <h3>เบอร์โทรศัพท์</h3> \n            </Grid>\n            <Grid item xs={6}>\n            <FormControl fullWidth variant=\"outlined\">\n            <TextField\n                id=\"Customer_tel\"\n                variant=\"outlined\"\n                type=\"string\"\n                size=\"medium\"\n                placeholder=\"กรุณากรอกเบอร์โทรศัพท์\" \n                value={reservations.Customer_tel || \"\"} \n                onChange={handleInputChange}\n            />\n            </FormControl>\n        </Grid>\n        </Grid>\n\n          <Grid container spacing={5} className={classes.root}>\n          <Grid item xs={8}>\n            <Button\n              style={{ float: \"right\" }}\n              component={RouterLink}\n              to=\"/reservation\"\n              variant=\"contained\"\n              onClick={submit}\n              color=\"primary\"\n            >\n              บันทึกการจองห้องพัก\n            </Button>\n          </Grid>\n          </Grid>\n    \n    </Container>\n  );\n}\n\nexport default ReservationCreate;"]},"metadata":{},"sourceType":"module"}