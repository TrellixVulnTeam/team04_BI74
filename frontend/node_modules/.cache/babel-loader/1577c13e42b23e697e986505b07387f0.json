{"ast":null,"code":"var _jsxFileName = \"/Users/siri.milk/se-64-reservation/frontend/src/components/ReservationCreate.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Select from \"@material-ui/core/Select\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { FormHelperText } from \"@material-ui/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Alert = props => {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 10\n  }, this);\n};\n\n_c = Alert;\nconst useStyles = makeStyles(theme => createStyles({\n  root: {\n    flexGrow: 1\n  },\n  container: {\n    marginTop: theme.spacing(5),\n    marginLeft: theme.spacing(50)\n  },\n  paper: {\n    padding: theme.spacing(2),\n    color: theme.palette.text.secondary\n  }\n}));\n\nfunction ReservationCreate() {\n  _s();\n\n  const classes = useStyles();\n  const [selectedCheckinDate, setSelectedCheckinDate] = useState(new Date());\n  const [selectedCheckoutDate, setSelectedCheckoutDate] = useState(new Date());\n  const [restrooms, setRestrooms] = useState([]);\n  const [customers, setCustomers] = useState();\n  const [payment_methods, setPaymentMethods] = useState([]);\n  const [reservations, setReservation] = useState({});\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(false);\n  const apiUrl = \"http://localhost:8080\";\n  const requestOptions = {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      \"Content-Type\": \"application/json\"\n    }\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setSuccess(false);\n    setError(false);\n  };\n\n  const handleChange = event => {\n    const name = event.target.name;\n    setReservation({ ...reservations,\n      [name]: event.target.value\n    });\n  };\n\n  const handleCheckinDateChange = date => {\n    console.log(date);\n    setSelectedCheckinDate(date);\n  };\n\n  const handleCheckoutDateChange = date => {\n    console.log(date);\n    setSelectedCheckoutDate(date);\n  };\n\n  const handleInputChange = event => {\n    const id = event.target.id;\n    const {\n      value\n    } = event.target;\n    setReservation({ ...reservations,\n      [id]: value\n    });\n  };\n\n  const getRestrooms = async () => {\n    fetch(`${apiUrl}/restrooms`, requestOptions).then(response => response.json()).then(res => {\n      if (res.data) {\n        setRestrooms(res.data);\n      } else {\n        console.log(\"else\");\n      }\n    });\n  };\n\n  const getCustomers = async () => {\n    let uid = localStorage.getItem(\"uid\");\n    fetch(`${apiUrl}/customer/${uid}`, requestOptions).then(response => response.json()).then(res => {\n      reservations.CustomerID = res.data.ID;\n\n      if (res.data) {\n        setCustomers(res.data);\n        console.log(res.data);\n      } else {\n        console.log(\"else\");\n      }\n    });\n  };\n\n  const getPaymentMethods = async () => {\n    fetch(`${apiUrl}/payment_methods`, requestOptions).then(response => response.json()).then(res => {\n      if (res.data) {\n        setPaymentMethods(res.data);\n      } else {\n        console.log(\"else\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    getRestrooms();\n    getCustomers();\n    getPaymentMethods();\n  }, []);\n\n  const convertType = data => {\n    let val = typeof data === \"string\" ? parseInt(data) : data;\n    return val;\n  };\n\n  function submit() {\n    let data = {\n      CustomerID: convertType(reservations.CustomerID),\n      Checkin_date: selectedCheckinDate,\n      Checkout_date: selectedCheckoutDate,\n      RestroomID: convertType(reservations.RestroomID),\n      Number_customer: convertType(reservations.Number_customer),\n      PaymentMethodID: convertType(reservations.PaymentMethodID),\n      Customer_tel: convertType(reservations.Customer_tel)\n    };\n    console.log(data);\n    const requestOptionsPost = {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    };\n    fetch(`${apiUrl}/reservations`, requestOptionsPost).then(response => response.json()).then(res => {\n      if (res.data) {\n        console.log(\"บันทึกได้\");\n        setSuccess(true);\n      } else {\n        console.log(\"บันทึกไม่ได้\");\n        setError(true);\n      }\n    });\n  } //เอาไว้ดูน้า ว่าตารางมึงจะบันทึกอะไรลงไป โถ้\n\n\n  console.log(reservations);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: classes.container,\n    maxWidth: \"md\",\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      open: success,\n      autoHideDuration: 6000,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClose,\n        severity: \"success\",\n        children: \"\\u0E08\\u0E2D\\u0E07\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E1E\\u0E31\\u0E01\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: error,\n      autoHideDuration: 6000,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClose,\n        severity: \"error\",\n        children: \"\\u0E08\\u0E2D\\u0E07\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E1E\\u0E31\\u0E01\\u0E44\\u0E21\\u0E48\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\\u0E23\\u0E30\\u0E1A\\u0E1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            native: true,\n            value: reservations.CustomerID,\n            inputProps: {\n              name: \"CustomerID\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"option\", {\n              value: customers === null || customers === void 0 ? void 0 : customers.ID,\n              children: customers === null || customers === void 0 ? void 0 : customers.Customer_name\n            }, customers === null || customers === void 0 ? void 0 : customers.ID, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n            children: \" * disabled \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23 Check-in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n            utils: DateFnsUtils,\n            children: /*#__PURE__*/_jsxDEV(KeyboardDatePicker, {\n              name: \"Checkin_date\",\n              value: selectedCheckinDate,\n              onChange: handleCheckinDateChange,\n              label: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23 Check-in\",\n              minDate: new Date(\"2018-01-01\"),\n              format: \"yyyy/MM/dd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23 Check-out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n            utils: DateFnsUtils,\n            children: /*#__PURE__*/_jsxDEV(KeyboardDatePicker, {\n              name: \"Checkout_date\",\n              value: selectedCheckoutDate,\n              onChange: handleCheckoutDateChange,\n              label: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23 Check-out\",\n              minDate: new Date(\"2018-01-01\"),\n              format: \"yyyy/MM/dd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E25\\u0E02\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E1E\\u0E31\\u0E01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            native: true,\n            value: reservations.RestroomID,\n            onChange: handleChange,\n            inputProps: {\n              name: \"RestroomID\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              \"aria-label\": \"None\",\n              value: \"\",\n              children: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E25\\u0E02\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E1E\\u0E31\\u0E01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this), restrooms.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item.ID,\n              children: item.Room_number\n            }, item.ID, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E04\\u0E19\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E40\\u0E02\\u0E49\\u0E32\\u0E1E\\u0E31\\u0E01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"Number_customer\",\n            variant: \"outlined\",\n            type: \"number\",\n            size: \"medium\",\n            inputProps: {\n              name: 'Number_customer'\n            },\n            InputLabelProps: {\n              shrink: true\n            },\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0E0A\\u0E48\\u0E2D\\u0E07\\u0E17\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E0A\\u0E33\\u0E23\\u0E30\\u0E40\\u0E07\\u0E34\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            native: true,\n            value: reservations.PaymentMethodID,\n            onChange: handleChange,\n            inputProps: {\n              name: \"PaymentMethodID\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              \"aria-label\": \"None\",\n              value: \"\",\n              children: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E0A\\u0E48\\u0E2D\\u0E07\\u0E17\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E0A\\u0E33\\u0E23\\u0E30\\u0E40\\u0E07\\u0E34\\u0E19\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this), payment_methods.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item.ID,\n              children: item.Payment_type\n            }, item.ID, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"Customer_tel\",\n            variant: \"outlined\",\n            type: \"string\",\n            size: \"medium\",\n            inputProps: {\n              name: 'Customer_tel'\n            },\n            InputLabelProps: {\n              shrink: true\n            },\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 5,\n      className: classes.root,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 8,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            float: \"right\"\n          },\n          component: RouterLink,\n          to: \"/reservation\",\n          variant: \"contained\",\n          onClick: submit,\n          color: \"primary\",\n          children: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E01\\u0E32\\u0E23\\u0E08\\u0E2D\\u0E07\\u0E2B\\u0E49\\u0E2D\\u0E07\\u0E1E\\u0E31\\u0E01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ReservationCreate, \"NaWAj98E5n/hMkYxamrjQEAGGU8=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = ReservationCreate;\nexport default ReservationCreate;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Alert\");\n$RefreshReg$(_c2, \"ReservationCreate\");","map":{"version":3,"sources":["/Users/siri.milk/se-64-reservation/frontend/src/components/ReservationCreate.tsx"],"names":["useEffect","useState","Link","RouterLink","makeStyles","createStyles","Button","FormControl","Container","Grid","Snackbar","Select","MuiAlert","TextField","MuiPickersUtilsProvider","KeyboardDatePicker","DateFnsUtils","FormHelperText","Alert","props","useStyles","theme","root","flexGrow","container","marginTop","spacing","marginLeft","paper","padding","color","palette","text","secondary","ReservationCreate","classes","selectedCheckinDate","setSelectedCheckinDate","Date","selectedCheckoutDate","setSelectedCheckoutDate","restrooms","setRestrooms","customers","setCustomers","payment_methods","setPaymentMethods","reservations","setReservation","success","setSuccess","error","setError","apiUrl","requestOptions","method","headers","Authorization","localStorage","getItem","handleClose","event","reason","handleChange","name","target","value","handleCheckinDateChange","date","console","log","handleCheckoutDateChange","handleInputChange","id","getRestrooms","fetch","then","response","json","res","data","getCustomers","uid","CustomerID","ID","getPaymentMethods","convertType","val","parseInt","submit","Checkin_date","Checkout_date","RestroomID","Number_customer","PaymentMethodID","Customer_tel","requestOptionsPost","body","JSON","stringify","Customer_name","map","item","Room_number","shrink","Payment_type","float"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport {\n  makeStyles,\n  Theme,\n  createStyles,\n  alpha,\n} from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Container from \"@material-ui/core/Container\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Select from \"@material-ui/core/Select\";\nimport MuiAlert, { AlertProps } from \"@material-ui/lab/Alert\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport { RestroomInterface } from \"../models/IRestroom\";\nimport { CustomerInterface } from \"../models/ICustomer\";\nimport { PaymentMethodInterfece } from \"../models/IPaymentMethod\";\nimport { ReservationInterface } from \"../models/IReservation\";\n\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport Reservation from \"./Reservation\";\nimport { FormHelperText } from \"@material-ui/core\";\n\n\nconst Alert = (props: AlertProps) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    container: {\n        marginTop: theme.spacing(5),\n      marginLeft: theme.spacing(50),\n    },\n    paper: {\n      padding: theme.spacing(2),\n      color: theme.palette.text.secondary,\n    },\n  })\n);\n\nfunction ReservationCreate() {\n  const classes = useStyles();\n  const [selectedCheckinDate, setSelectedCheckinDate] = useState<Date | null>(new Date());\n  const [selectedCheckoutDate, setSelectedCheckoutDate] = useState<Date | null>(new Date());\n  const [restrooms, setRestrooms] = useState<RestroomInterface[]>([]);\n  const [customers, setCustomers] = useState<CustomerInterface>();\n  const [payment_methods, setPaymentMethods] = useState<PaymentMethodInterfece[]>([]);\n  const [reservations, setReservation] = useState<Partial<ReservationInterface>>(\n    {}\n  );\n\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(false);\n\n  \n\n  const apiUrl = \"http://localhost:8080\";\n  const requestOptions = {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setSuccess(false);\n    setError(false);\n  };\n\n  const handleChange = (\n    event: React.ChangeEvent<{ name?: string; value: unknown }>\n  ) => {\n    const name = event.target.name as keyof typeof reservations;\n    setReservation({\n      ...reservations,\n      [name]: event.target.value,\n    });\n  };\n\n  const handleCheckinDateChange = (date: Date | null) => {\n    console.log(date);\n    setSelectedCheckinDate(date);\n  };\n\n  const handleCheckoutDateChange = (date: Date | null) => {\n    console.log(date);\n    setSelectedCheckoutDate(date);\n  };\n\n  const handleInputChange = (\n    event: React.ChangeEvent<{ id?: string; value: any }> ) => {\n    const id = event.target.id as keyof typeof reservations; const { value } = event.target;\n    setReservation({ ...reservations, [id]: value });\n    };\n\n  const getRestrooms = async () => {\n    fetch(`${apiUrl}/restrooms`, requestOptions)\n      .then((response) => response.json())\n      .then((res) => {\n        if (res.data) {\n            setRestrooms(res.data);\n        } else {\n          console.log(\"else\");\n        }\n      });\n  };\n\n  const getCustomers = async () => {\n    let uid = localStorage.getItem(\"uid\");\n    fetch(`${apiUrl}/customer/${uid}`, requestOptions)\n      .then((response) => response.json())\n      .then((res) => {\n        reservations.CustomerID = res.data.ID\n        if (res.data) {\n            setCustomers(res.data);\n            console.log(res.data);\n        } else {\n          console.log(\"else\");\n        }\n      });\n  };\n\n  const getPaymentMethods = async () => {\n    fetch(`${apiUrl}/payment_methods`, requestOptions)\n      .then((response) => response.json())\n      .then((res) => {\n        if (res.data) {\n            setPaymentMethods(res.data);\n        } else {\n          console.log(\"else\");\n        }\n      });\n  };\n\n  useEffect(() => {\n    getRestrooms();\n    getCustomers();\n    getPaymentMethods();\n  }, []);\n\n  const convertType = (data: string | number | undefined) => {\n    let val = typeof data === \"string\" ? parseInt(data) : data;\n    return val;\n  };\n\n  function submit() {\n    let data = {\n    CustomerID: convertType(reservations.CustomerID),\n    Checkin_date: selectedCheckinDate,\n    Checkout_date: selectedCheckoutDate,\n    RestroomID: convertType(reservations.RestroomID),\n    Number_customer: convertType(reservations.Number_customer),\n    PaymentMethodID: convertType(reservations.PaymentMethodID),\n    Customer_tel: convertType(reservations.Customer_tel),\n    };\n\n    console.log(data)\n\n    const requestOptionsPost = {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    };\n\n    fetch(`${apiUrl}/reservations`, requestOptionsPost)\n      .then((response) => response.json())\n      .then((res) => {\n        if (res.data) {\n          console.log(\"บันทึกได้\")\n          setSuccess(true);\n        } else {\n          console.log(\"บันทึกไม่ได้\")\n          setError(true);\n        }\n      });\n\n  }\n  //เอาไว้ดูน้า ว่าตารางมึงจะบันทึกอะไรลงไป โถ้\n  console.log(reservations);\n\n  return (\n    <Container className={classes.container} maxWidth=\"md\">\n      <Snackbar open={success} autoHideDuration={6000} onClose={handleClose}>\n        <Alert onClose={handleClose} severity=\"success\">\n            จองห้องพักสำเร็จ\n        </Alert>\n      </Snackbar>\n      <Snackbar open={error} autoHideDuration={6000} onClose={handleClose}>\n        <Alert onClose={handleClose} severity=\"error\">\n            จองห้องพักไม่สำเร็จ\n        </Alert>\n      </Snackbar>\n\n        \n        <Grid container spacing={3} className={classes.root}>\n\n          <Grid item xs={2}>\n              <p>ชื่อสมาชิกผู้ใช้งานระบบ</p>\n              </Grid>\n              <Grid item xs={6}>\n              <FormControl fullWidth variant=\"outlined\">\n              <Select\n                native\n                value={reservations.CustomerID}\n                \n                inputProps={{\n                  name: \"CustomerID\", \n                }}\n              >\n\n                <option value={customers?.ID} key={customers?.ID}>\n                  {customers?.Customer_name}\n                </option>\n                \n              </Select>\n              <FormHelperText> * disabled </FormHelperText>\n            </FormControl>\n          </Grid>\n          </Grid>\n\n          <Grid container spacing={3} className={classes.root}>\n          <Grid item xs={2}>\n              <p>วันที่ต้องการ Check-in</p>\n              </Grid>\n              <Grid item xs={3}>\n              <FormControl fullWidth variant=\"outlined\">\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <KeyboardDatePicker\n                  name=\"Checkin_date\"\n                  value={selectedCheckinDate}\n                  onChange={handleCheckinDateChange}\n                  label=\"กรุณาเลือกวันที่ต้องการ Check-in\"\n                  minDate={new Date(\"2018-01-01\")}\n                  format=\"yyyy/MM/dd\"\n                />\n              </MuiPickersUtilsProvider>\n            </FormControl>\n          </Grid>\n          </Grid>\n\n          <Grid container spacing={3} className={classes.root}>\n          <Grid item xs={2}>\n              <p>วันที่ต้องการ Check-out</p>\n              </Grid>\n              <Grid item xs={3}>\n              <FormControl fullWidth variant=\"outlined\">\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <KeyboardDatePicker\n                  name=\"Checkout_date\"\n                  value={selectedCheckoutDate}\n                  onChange={handleCheckoutDateChange}\n                  label=\"กรุณาเลือกวันที่ต้องการ Check-out\"\n                  minDate={new Date(\"2018-01-01\")}\n                  format=\"yyyy/MM/dd\"\n                />\n              </MuiPickersUtilsProvider>\n            </FormControl>\n          </Grid>\n          </Grid>\n\n          <Grid container spacing={3} className={classes.root}>\n          <Grid item xs={2}>\n              <p>หมายเลขห้องพัก</p>\n              </Grid>\n              <Grid item xs={6}>\n              <FormControl fullWidth variant=\"outlined\">\n              <Select\n                native\n                value={reservations.RestroomID}\n                onChange={handleChange}\n                inputProps={{\n                  name: \"RestroomID\",\n                }}\n              >\n                <option aria-label=\"None\" value=\"\">\n                  กรุณาเลือกหมายเลขห้องพัก\n                </option>\n                {restrooms.map((item: RestroomInterface) => (\n                  <option value={item.ID} key={item.ID}>\n                    {item.Room_number}\n                  </option>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n          </Grid>\n\n          <Grid container spacing={3} className={classes.root}> \n          <Grid item xs={2}>\n            <h3>จำนวนคนที่ต้องการเข้าพัก</h3> \n            </Grid>\n            <Grid item xs={6}>\n            <FormControl fullWidth variant=\"outlined\">\n            <TextField\n                id=\"Number_customer\"\n                variant=\"outlined\"\n\n                type=\"number\"\n\n                size=\"medium\"\n\n                inputProps={{\n                  name: 'Number_customer',\n                }}\n                 InputLabelProps={{\n                   shrink: true,\n                 }}\n\n                onChange={handleChange}\n\n              />\n            </FormControl>\n        </Grid>\n        </Grid>\n          \n\n          <Grid container spacing={3} className={classes.root}>\n          <Grid item xs={2}>\n              <p>ช่องทางการชำระเงิน</p>\n              </Grid>\n              <Grid item xs={6}>\n              <FormControl fullWidth variant=\"outlined\">\n              <Select\n                native\n                value={reservations.PaymentMethodID}\n                onChange={handleChange}\n                inputProps={{\n                  name: \"PaymentMethodID\",\n                }}\n              >\n                <option aria-label=\"None\" value=\"\">\n                  กรุณาเลือกช่องทางการชำระเงิน\n                </option>\n                {payment_methods.map((item: PaymentMethodInterfece) => (\n                  <option value={item.ID} key={item.ID}>\n                    {item.Payment_type}\n                  </option>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n          </Grid>\n\n          <Grid container spacing={3} className={classes.root}> \n          <Grid item xs={2}>\n            <h3>เบอร์โทรศัพท์</h3> \n            </Grid>\n            <Grid item xs={6}>\n            <FormControl fullWidth variant=\"outlined\">\n            <TextField\n                id=\"Customer_tel\"\n                variant=\"outlined\"\n\n                type=\"string\"\n\n                size=\"medium\"\n\n                inputProps={{\n                  name: 'Customer_tel',\n                }}\n                 InputLabelProps={{\n                   shrink: true,\n                 }}\n\n                onChange={handleChange}\n\n              />\n            </FormControl>\n        </Grid>\n        </Grid>\n\n          <Grid container spacing={5} className={classes.root}>\n          <Grid item xs={8}>\n            <Button\n              style={{ float: \"right\" }}\n              component={RouterLink}\n              to=\"/reservation\"\n              variant=\"contained\"\n              onClick={submit}\n              color=\"primary\"\n            >\n              บันทึกการจองห้องพัก\n            </Button>\n          </Grid>\n          </Grid>\n    \n    </Container>\n  );\n}\n\nexport default ReservationCreate;"]},"metadata":{},"sourceType":"module"}